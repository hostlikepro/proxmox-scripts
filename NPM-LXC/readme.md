<p align="right"><a href="https://github.com/hostlikepro/proxmox-scripts/blob/main/NPM-LXC/README_eng.MD">ENG Version</a></p>

# Nginx Proxy Manager в Proxmox LXC 

Используя контейнер LXC, вы получаете намного больше преимуществ в сравнении с эмуляцией полноценной виртуальной машины. Ресурсов, необходимых для запуска контейнера LXC, потребляется намного меньше, чем для запуска KVM эмуляции. Изменение ресурсов, назначенных контейнеру LXC, можно выполнить без перезагрузки контейнера, в режиме "хот-спот". Последовательные устройства, подключенные к Proxmox, могут совместно использоваться несколькими контейнерами LXC одновременно.

## Использование

Чтобы создать новый контейнер LXC на Proxmox и настроить Nginx Proxy Manager, запустите следующую команду через терминал при SSH-подключении или через консоль внутри самого WebUI Proxmox.

***Примечание:*** _протестировано на proxmox 6.4+_
***Примечание:*** _данная команда создаст контейнер alpine._

```bash
curl -sL https://raw.githubusercontent.com/hostlikepro/proxmox-scripts/main/NPM-LXC/create.sh | bash -s
```

### Аргументы командной строки
| Аргумент           | По умолчанию         | Описание                                               |
|--------------------|----------------------|--------------------------------------------------------|
| --id          | $nextid                   | Номер (id) контейнера                                  |
| --bridge      | vmbr0                     | Название bridge для эмуляции сетевой карты             |
| --cores       | 1                         | Количество ядер CPU                                    |
| --disksize    | 2G                        | Дисковое пространство                                  |
| --hostname    | nginx-proxy-manager       | Название контейнера                                    |
| --memory      | 512                       | Количество выделяемой RAM                              |
| --storage     | local-lvm                 | Хранилище виртуального диска контейнера                |
| --templates   | local                     | Хранилище шаблона системы                              |
| --swap        | 0                         | Размер файла подкачки (SWAP)                           |

вы можете изменить эти параметры персонально, добавив аргумент  `-- <parameter> <value>` в конец скрипта, например:
```bash
curl -sL https://raw.githubusercontent.com/hostlikepro/proxmox-scripts/main/NPM-LXC/create.sh | bash -s -- --bridge vmbr100 --hostname NPM --storage technic
```
В данном примере будет запущен скрипт установки контейнера с названием *"NPM"*, который будет размещён на смонтированном диске *"technic"* и имеющий сетевую карту, смотрящую на мост *vmbr100*.

### Терминал

Для доступа к терминалу контейнера из веб-интерфейса Proxmox не требуется вход в систему. Если вы видите пустой экран, то необходимо нажать `CTRL + C`, чтобы создать запрос.

### Стандартные настройки

Данные настройки устанавливаются автоматически после установки для входа в WebUI NPM. После первого входа система попросит изменить данные для входа на уникальные.
```
http://127.0.0.1:81
Email:    admin@example.com
Password: changeme
```


## Альтернативное использование

Если вы не используете Proxmox, либо хотите установить его на существующий контейнер Alpine, вы можете запустить непосредственно скрипт установки NPM. Дополнительных контейнеров в этом сценарии создано не будет.
```bash
wget --no-cache -qO - https://raw.githubusercontent.com/hostlikepro/proxmox-scripts/main/NPM-LXC/setup.sh | sh
```
***Примечание:*** _в настоящее время этот скрипт поддерживает работоспособность только на системах Alpine, Debian и Ubuntu._